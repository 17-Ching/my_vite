import{_ as v,o as k,c as f,r as T,a as t,n as _,t as N,w as m,v as h,F as B,p as b,b as S,d as u,e as J,f as O,g as L,h as V,i as g,N as E}from"./Nav-CwqXvWNx.js";const d=c=>(b("data-v-bf16f8f7"),c=c(),S(),c),A={class:"item_flex"},R={class:"left_block"},D={class:"btn_flex"},F=["onClick"],U=["onClick"],K={class:"middle_block"},M={class:"star_block"},z=["onClick"],j=d(()=>t("i",{class:"fas fa-star"},null,-1)),q=[j],G=["onClick"],H=d(()=>t("i",{class:"fas fa-star"},null,-1)),P=[H],Q=["onClick"],W=d(()=>t("i",{class:"fas fa-star"},null,-1)),X=[W],Y=["onClick"],Z=d(()=>t("i",{class:"fas fa-star"},null,-1)),x=[Z],tt=["onClick"],st=d(()=>t("i",{class:"fas fa-star"},null,-1)),at=[st],et=["onUpdate:modelValue"],ot={class:"right_block"},lt={class:"btn_flex"},nt=["onClick"],ct=["onClick"],it={__name:"TaskItem",props:["tasks"],emits:["taskEdit","taskStar","taskSwap","taskRemove"],setup(c){return(o,s)=>(k(!0),f(B,null,T(c.tasks,(l,n)=>(k(),f("li",{key:l.id},[t("div",A,[t("div",R,[t("div",D,[t("button",{type:"button",class:"btn_up",onClick:e=>o.$emit("taskSwap",e,n,"up")},"往上",8,F),t("button",{type:"button",class:"btn_down",onClick:e=>o.$emit("taskSwap",e,n,"down")},"往下",8,U)])]),t("div",K,[t("div",M,[t("span",{class:_(["star",{"-on":l.star>=1}]),onClick:e=>o.$emit("taskStar",e,n,1)},q,10,z),t("span",{class:_(["star",{"-on":l.star>=2}]),onClick:e=>o.$emit("taskStar",e,n,2)},P,10,G),t("span",{class:_(["star",{"-on":l.star>=3}]),onClick:e=>o.$emit("taskStar",e,n,3)},X,10,Q),t("span",{class:_(["star",{"-on":l.star>=4}]),onClick:e=>o.$emit("taskStar",e,n,4)},x,10,Y),t("span",{class:_(["star",{"-on":l.star>=5}]),onClick:e=>o.$emit("taskStar",e,n,5)},at,10,tt)]),t("p",{class:_(["para",{"-none":l.editable}])},N(l.name),3),m(t("input",{type:"text",class:_(["task_name_update",{"-none":!l.editable}]),placeholder:"更新待辦事項…","onUpdate:modelValue":e=>l.name=e},null,10,et),[[h,l.name,void 0,{trim:!0}]])]),t("div",ot,[t("div",lt,[t("button",{type:"button",class:"btn_update",onClick:e=>o.$emit("taskEdit",e,n)},"更新",8,nt),t("button",{type:"button",class:"btn_delete",onClick:e=>o.$emit("taskRemove",e,n)},"移除",8,ct)])])])]))),128))}},rt=v(it,[["__scopeId","data-v-bf16f8f7"]]),_t=c=>(b("data-v-9f85c25a"),c=c(),S(),c),dt={class:"task_container"},ut=_t(()=>t("h1",{class:"title1"},"待辦事項",-1)),kt={class:"task_list_parent"},ft={__name:"TaskContainer",setup(c){const o=u(""),s=u([]),l=u(null),n=u(null);J(()=>{let i=JSON.parse(localStorage.getItem("tasks"));i&&(s.value=i)});function e(){l.value.classList.toggle("-on")}function p(){o.value!=""&&(s.value.unshift({id:Date.now(),name:o.value,star:0,editable:!1}),o.value="",localStorage.setItem("tasks",JSON.stringify(s.value)))}function C(){if(confirm("確認清空?")){for(let a=0;a<n.value.children.length;a++)n.value.children[a].classList.add("fade_out");setTimeout(()=>{s.value=[],localStorage.clear()},1e3)}}function y(i,a){s.value[a].editable?s.value[a].name==""?alert("請輸入資料"):(s.value[a].editable=!s.value[a].editable,localStorage.setItem("tasks",JSON.stringify(s.value))):s.value[a].editable=!s.value[a].editable}function w(i,a,r){s.value[a].star=r,localStorage.setItem("tasks",JSON.stringify(s.value))}function I(i,a,r){r=="up"&&a!=0&&([s.value[a-1],s.value[a]]=[s.value[a],s.value[a-1]],localStorage.setItem("tasks",JSON.stringify(s.value))),r=="down"&&a!=s.value.length-1&&([s.value[a],s.value[a+1]]=[s.value[a+1],s.value[a]],localStorage.setItem("tasks",JSON.stringify(s.value)))}function $(i,a){confirm("確認移除?")&&(i.target.closest("li").classList.add("fade_out"),setTimeout(()=>{s.value.splice(a,1),localStorage.setItem("tasks",JSON.stringify(s.value))},1e3))}return(i,a)=>(k(),f("article",dt,[t("button",{type:"button",class:"btn_empty",onClick:C},"清空"),ut,t("div",{class:"task_add_block",ref_key:"taskAddBlock",ref:l},[m(t("input",{type:"text",class:"task_name",placeholder:"輸入待辦事項…",onFocus:e,onBlur:e,"onUpdate:modelValue":a[0]||(a[0]=r=>o.value=r),onKeyup:O(p,["enter"])},null,544),[[h,o.value,void 0,{trim:!0}]]),L(" > "),t("button",{type:"button",class:"task_add",onClick:p},"新增")],512),t("div",kt,[t("ul",{class:"task_list",ref_key:"taskList",ref:n},[V(rt,{tasks:s.value,onTaskEdit:y,onTaskStar:w,onTaskSwap:I,onTaskRemove:$},null,8,["tasks"])],512)])]))}},pt=v(ft,[["__scopeId","data-v-9f85c25a"]]);g(E).mount("#header");g(pt).mount("#app");
